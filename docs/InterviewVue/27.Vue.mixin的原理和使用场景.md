# 27. Vue.mixin的使用场景和原理

### 1.1 Vue.mixin 概念

mixin可以用来扩展组件，将公共逻辑进行抽离。在需要该逻辑时进行“混入”，采用策略模式针对不同的属性进行合并。如果混入的数据和本身组件中的数据冲突，会采用“就近原则”以组件的数据为准、

> mixin有很多缺陷“命名冲突问题”、“数据来源问题”，Vue3 采用 `CompisitionAPI` 提取公共逻辑非常方便。

### 1.2 混入方式

在Vue中我们可以**局部混入**跟**全局混入**。一般情况下全局混入用于编写组件。局部混入用于复用逻辑。

### 1.3 mixin合并策略

核心就是：对象的合并处理

- props、methods、inject、computed同名时会被替换
- data会被合并
- 生命周期和watch方法会被合并成队列
- components、directives、filters会在原型链上叠加

> 组件的扩展除了mixin之外，还有一个属性叫做`extends`，但是不怎么常用。

